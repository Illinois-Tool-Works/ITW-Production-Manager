<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Área 1</title> 
  <link rel="stylesheet" href="styles.css">
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

<meta charset="UTF-8">
  <title>Esquinas con Bootstrap</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .corner-img {
      position: fixed;
      z-index: 1;
      pointer-events: none;
    }

    .top-left {
      top: 5rem;
      left: 1rem;
    }

    .top-right {
      top: 6rem;
      right: 1rem;
    }
 /* Responsividad con Bootstrap breakpoints */
    .corner-img {
    position: absolute;
  width: 25vw; /* Más grande que antes */
  height: auto;
  z-index: 1;
  pointer-events: none;

    }

    @media (max-width: 768px) {
      .corner-img {
        width: 10vw;
      }
    }

    @media (max-width: 576px) {
      .corner-img {
        width: 14vw;
      }
    }
  </style>
</head>


<body2>

  <img src="https://www.theashtonreport.com/wp-content/uploads/2020/02/ITW-logo-810x262.jpeg" class="corner-img top-left img-fluid" alt="Esquina izquierda">
  <img src="https://itwmedical.com/wp-content/uploads/2023/07/filterteklogo.jpg" class="corner-img top-right img-fluid" alt="Esquina derecha">

  <!-- <div class="container2">
  <h1>Área 1</h1>
  <div id="datetime">Cargando fecha y hora...</div>
  <div class="button-group">
    <button onclick="location.href='index.html'">Back</button>
  </div>
</div> -->
<div class="container2 position-absolute top-0 start-50 translate-middle-x text-center">
  <h1>Área 1</h1>
  <div id="datetime">Cargando fecha y hora...</div>
  <div class="button-group mt-3">
    <button class="btn btn-secondary" onclick="location.href='index.html'">Back</button>
    <button id="btnRegistro" class="btn btn-primary mt-0.9">Exportar y limpiar registro</button>
  </div>
</div>


<div class="container-fluid" style="margin-top: 25%;">
  <div class="row justify-content-center">

    <!-- Columna 1 -->
 <div class="col-12 col-md-3 mb-3">
      <div id="indicadores" class="indicadores" class="d-flex flex-column gap-3">
        <!-- Indicadores individuales -->
        <div class="indicador indicador-tamaño " id="indicador48" class="indicador bg-light p-2 rounded shadow-sm" >
          <button onclick="activarIndicador48()">Activar indicador 48</button>
   <div class="comentario-visible oculto">Sin comentario</div>
   <div class="grupo-horizontal">
    <select class="oculto" disabled onchange="cambiarColor(this, 'indicador48') ">
      <option value="gris">No plan</option>
      <option value="rojo">Paro</option>
      <option value="verde">Corriendo</option>
      <option value="azul">Cambio de molde</option>
    </select>
    <span class="cuadro" id="cuadro48" >48</span>
    <input type="text"
           class="comentario-input oculto"
           data-indicador="indicador48"
           placeholder="Comentario..."
           onkeydown="enviarComentario(event, this)"
           enterkeyhint="send"
           disabled>
           </div>
    </div> 
      </div>
    </div>

    <!-- Columna 2 -->
   <div class="col-12 col-md-3 mb-3">
      <div id="indicadores2" class="indicadores" class="d-flex flex-column gap-3">
        <div class="indicador indicador-tamaño" id="indicador108" class="indicador bg-light p-2 rounded shadow-sm">
     <div class="comentario-visible">Sin comentario</div>
      <div class="grupo-horizontal">
        <select disabled onchange="cambiarColor(this, 'indicador108')">
        <option value="gris">No plan</option>
        <option value="rojo">Paro</option>
        <option value="verde">Corriendo</option>
        <option value="azul">Cambio de molde</option>
        </select>
          <span class="cuadro">108</span>
            <input type="text"
             class="comentario-input"
             data-indicador="indicador108"
             placeholder="Comentario..."
             onkeydown="enviarComentario(event, this)"
             enterkeyhint="send"
             disabled>
           <button onclick="desbloquearIndicador('indicador108')">🔒</button></div></div>
      </div>
    </div>

    <!-- Columna 3 -->
   <div class="col-12 col-md-3 mb-3">
      <div id="indicadores3" class="indicadores" class="d-flex flex-column gap-3">
        <div class="indicador indicador-tamaño" id="indicador44" class="indicador bg-light p-2 rounded shadow-sm">
     <div class="comentario-visible">Sin comentario</div>
      <div class="grupo-horizontal">
        <select disabled onchange="cambiarColor(this, 'indicador44')">
        <option value="gris">No plan</option>
        <option value="rojo">Paro</option>
        <option value="verde">Corriendo</option>
        <option value="azul">Cambio de molde</option>
        </select>
          <span class="cuadro">44</span>
            <input type="text"
             class="comentario-input"
             data-indicador="indicador44"
             placeholder="Comentario..."
             onkeydown="enviarComentario(event, this)"
             enterkeyhint="send"
             disabled>
           <button onclick="desbloquearIndicador('indicador44')">🔒</button></div></div>
       
      </div>
    </div>
        <!-- Columna 4 -->
   <div class="col-12 col-md-3 mb-3">
      <div id="indicadores4" class="indicadores" class="d-flex flex-column gap-3">
        <div class="indicador indicador-tamaño" id="indicador43" class="indicador bg-light p-2 rounded shadow-sm">
     <div class="comentario-visible">Sin comentario</div>
      <div class="grupo-horizontal">
        <select disabled onchange="cambiarColor(this, 'indicador43')">
        <option value="gris">No plan</option>
        <option value="rojo">Paro</option>
        <option value="verde">Corriendo</option>
        <option value="azul">Cambio de molde</option>
        </select>
          <span class="cuadro">43</span>
            <input type="text"
             class="comentario-input"
             data-indicador="indicador43"
             placeholder="Comentario..."
             onkeydown="enviarComentario(event, this)"
             enterkeyhint="send"
             disabled>
           <button onclick="desbloquearIndicador('indicador43')">🔒</button></div></div>
        
      </div>
    </div>
  </div>
</div>
    <script type="module" src="Indicadores.js"></script>
  </div>
  <script>
    function actualizarFechaHora() {
      const ahora = new Date();
      const opciones = {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
      };
      const formato = ahora.toLocaleString('es-MX', opciones);
      document.getElementById('datetime').textContent = formato;
    }

    setInterval(actualizarFechaHora, 1000);
    actualizarFechaHora();
  function cambiarColor(select, id) {
    const color = select.value;
    const cuadro = document.querySelector(`#${id} .cuadro`);
    cuadro.className = 'cuadro ' + color;
    localStorage.setItem(id, color); // Guardar color
  }

  // Al cargar la página, aplicar colores guardados
  // window.onload = function () {
  //   for (let i = 100; i <= 110; i++) {
  //     const id = 'indicador' + i;
  //     const colorGuardado = localStorage.getItem(id);
  //     if (colorGuardado) {
        // const cuadro = document.querySelector(`#${id} .cuadro`);
  //       const select = document.querySelector(`#${id} select`);
  //       cuadro.className = 'cuadro ' + colorGuardado;
  //       select.value = colorGuardado;
  //     }
  //   }
  // };

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function activarIndicador48() {
      const indicador = document.getElementById("indicador48");
      const ocultos = indicador.querySelectorAll(".oculto");

      ocultos.forEach(el => {
        el.classList.remove("oculto");
        if (el.tagName === "SELECT" || el.tagName === "INPUT") {
          el.disabled = false;
        }
      });
    }
  </script>


</body>
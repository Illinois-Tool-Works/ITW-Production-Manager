<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Área 2</title> 
  <link rel="stylesheet" href="styles.css">
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

<body2>
<div class="container2 position-absolute top-0 start-50 translate-middle-x text-center">
  <h1>Área 1</h1>
  <div id="datetime">Cargando fecha y hora...</div>
  <div class="button-group mt-3">
    <button class="btn btn-secondary" onclick="location.href='index.html'">Back</button>
    <button id="btnRegistro" class="btn btn-primary mt-3">Exportar y limpiar registro</button>
  </div>
</div>


<div class="container-fluid" style="margin-top: 20%;">
  <div class="row justify-content-center">

    <!-- Columna 1 -->
 <div class="col-12 col-md-3 mb-3">
      <div id="indicadores5" class="indicadores" class="d-flex flex-column gap-3">
        <!-- Indicadores individuales -->
        <div class="indicador indicador-tamaño" id="indicador123" class="indicador bg-light p-2 rounded shadow-sm" >
   <div class="comentario-visible">Sin comentario</div>
   <div class="grupo-horizontal">
    <select disabled onchange="cambiarColor(this, 'indicador123')">
      <option value="gris">No plan</option>
      <option value="rojo">Paro</option>
      <option value="verde">Corriendo</option>
      <option value="azul">Cambio de molde</option>
    </select>
    <span class="cuadro">123</span>
    <input type="text"
           class="comentario-input"
           data-indicador="indicador123"
           placeholder="Comentario..."
           onkeydown="enviarComentario(event, this)"
           enterkeyhint="send"
           disabled>
           <button onclick="desbloquearIndicador('indicador123')">🔒</button></div>
    </div> 
         <div class="indicador indicador-tamaño" id="indicador118" class="indicador bg-light p-2 rounded shadow-sm">
  <div class="comentario-visible">Sin comentario</div>
  <div class="grupo-horizontal">
    <select disabled onchange="cambiarColor(this, 'indicador118')">
      <option value="gris">No plan</option>
      <option value="rojo">Paro</option>
      <option value="verde">Corriendo</option>
      <option value="azul">Cambio de molde</option>
    </select>
    <span class="cuadro">118</span>
    <input type="text"
           class="comentario-input"
           data-indicador="indicador118"
           placeholder="Comentario..."
           onkeydown="enviarComentario(event, this)"
           enterkeyhint="send"
           disabled>
           <button onclick="desbloquearIndicador('indicador118')">🔒</button></div></div>

      </div>
    </div>
    <!-- Columna 2 -->
   <div class="col-12 col-md-3 mb-3">
      <div id="indicadores6" class="indicadores" class="d-flex flex-column gap-3">
        <div class="indicador indicador-tamaño" id="indicador115" class="indicador bg-light p-2 rounded shadow-sm">
     <div class="comentario-visible">Sin comentario</div>
      <div class="grupo-horizontal">
        <select disabled onchange="cambiarColor(this, 'indicador115')">
        <option value="gris">No plan</option>
        <option value="rojo">Paro</option>
        <option value="verde">Corriendo</option>
        <option value="azul">Cambio de molde</option>
        </select>
          <span class="cuadro">115</span>
            <input type="text"
             class="comentario-input"
             data-indicador="indicador115"
             placeholder="Comentario..."
             onkeydown="enviarComentario(event, this)"
             enterkeyhint="send"
             disabled>
           <button onclick="desbloquearIndicador('indicador115')">🔒</button></div></div>
        <div class="indicador indicador-tamaño" id="indicador86" class="indicador bg-light p-2 rounded shadow-sm">
  <div class="comentario-visible">Sin comentario</div>
  <div class="grupo-horizontal">
    <select disabled onchange="cambiarColor(this, 'indicador86')">
      <option value="gris">No plan</option>
      <option value="rojo">Paro</option>
      <option value="verde">Corriendo</option>
      <option value="azul">Cambio de molde</option>
    </select>
    <span class="cuadro">86</span>
    <input type="text"
           class="comentario-input"
           data-indicador="indicador86"
           placeholder="Comentario..."
           onkeydown="enviarComentario(event, this)"
           enterkeyhint="send"
           disabled>
           <button onclick="desbloquearIndicador('indicador86')">🔒</button></div></div>
      </div>
   </div>
    <!-- Columna 3 -->
   <div class="col-12 col-md-3 mb-3">
      <div id="indicadores7" class="indicadores" class="d-flex flex-column gap-3">
        <div class="indicador indicador-tamaño" id="indicador98" class="indicador bg-light p-2 rounded shadow-sm">
     <div class="comentario-visible">Sin comentario</div>
      <div class="grupo-horizontal">
        <select disabled onchange="cambiarColor(this, 'indicador98')">
        <option value="gris">No plan</option>
        <option value="rojo">Paro</option>
        <option value="verde">Corriendo</option>
        <option value="azul">Cambio de molde</option>
        </select>
          <span class="cuadro">98</span>
            <input type="text"
             class="comentario-input"
             data-indicador="indicador98"
             placeholder="Comentario..."
             onkeydown="enviarComentario(event, this)"
             enterkeyhint="send"
             disabled>
           <button onclick="desbloquearIndicador('indicador98')">🔒</button></div></div>
        <div class="indicador indicador-tamaño" id="indicador96" class="indicador bg-light p-2 rounded shadow-sm">
  <div class="comentario-visible">Sin comentario</div>
  <div class="grupo-horizontal">
    <select disabled onchange="cambiarColor(this, 'indicador96')">
      <option value="gris">No plan</option>
      <option value="rojo">Paro</option>
      <option value="verde">Corriendo</option>
      <option value="azul">Cambio de molde</option>
    </select>
    <span class="cuadro">96</span>
    <input type="text"
           class="comentario-input"
           data-indicador="indicador96"
           placeholder="Comentario..."
           onkeydown="enviarComentario(event, this)"
           enterkeyhint="send"
           disabled>
           <button onclick="desbloquearIndicador('indicador96')">🔒</button></div></div>

      </div>
   </div>
        <!-- Columna 4 -->
   <div class="col-12 col-md-3 mb-3">
      <div id="indicadores8" class="indicadores" class="d-flex flex-column gap-3">
        <div class="indicador indicador-tamaño" id="indicador128" class="indicador bg-light p-2 rounded shadow-sm">
     <div class="comentario-visible">Sin comentario</div>
      <div class="grupo-horizontal">
        <select disabled onchange="cambiarColor(this, 'indicador128')">
        <option value="gris">No plan</option>
        <option value="rojo">Paro</option>
        <option value="verde">Corriendo</option>
        <option value="azul">Cambio de molde</option>
        </select>
          <span class="cuadro">128</span>
            <input type="text"
             class="comentario-input"
             data-indicador="indicador128"
             placeholder="Comentario..."
             onkeydown="enviarComentario(event, this)"
             enterkeyhint="send"
             disabled>
           <button onclick="desbloquearIndicador('indicador128')">🔒</button></div></div>
        <div class="indicador indicador-tamaño" id="indicador129" class="indicador bg-light p-2 rounded shadow-sm">
  <div class="comentario-visible">Sin comentario</div>
  <div class="grupo-horizontal">
    <select disabled onchange="cambiarColor(this, 'indicador129')">
      <option value="gris">No plan</option>
      <option value="rojo">Paro</option>
      <option value="verde">Corriendo</option>
      <option value="azul">Cambio de molde</option>
    </select>
    <span class="cuadro">129</span>
    <input type="text"
           class="comentario-input"
           data-indicador="indicador129"
           placeholder="Comentario..."
           onkeydown="enviarComentario(event, this)"
           enterkeyhint="send"
           disabled>
           <button onclick="desbloquearIndicador('indicador129')">🔒</button></div></div>
      </div>
    </div>
  </div>
</div>
    <script type="module" src="Indicadores.js"></script>
  </div>
  <script>
    function actualizarFechaHora() {
      const ahora = new Date();
      const opciones = {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit'
      };
      const formato = ahora.toLocaleString('es-MX', opciones);
      document.getElementById('datetime').textContent = formato;
    }

    setInterval(actualizarFechaHora, 1000);
    actualizarFechaHora();
  function cambiarColor(select, id) {
    const color = select.value;
    const cuadro = document.querySelector(`#${id} .cuadro`);
    cuadro.className = 'cuadro ' + color;
    localStorage.setItem(id, color); // Guardar color
  }

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Identificador de Dispositivo</title>
</head>
<body>
      <button class="btn btn-secondary" style="display: none;" disabled>Volver</button>
      <button id="btnRegistro" class="btn btn-primary" style="display: none;" disabled>Registrar</button>
  <h1>Bienvenido, <span id="nombre">Dispositivo desconocido</span></h1>
  <div  id="indicador10" class="indicador mb-1" >
   <div class="comentario-visible2 oculto">Sin estado</div>
   <div class="grupo-horizontal">
    <select class="oculto" onchange="cambiarColor(this, 'indicador10') ">
      <option value="gris">No plan</option>
      <option value="rojo">Paro</option>
      <option value="verde">Corriendo</option>
      <option value="azul">Cambio de molde</option>
    </select>
    <span class="cuadro" data-indicador="indicador10">10</span>
    <div class="comentario-visible oculto">Sin comentario</div>
    <input type="text"
           class="comentario-input oculto"
           data-indicador="indicador10"
           placeholder="Comentario..."
           onkeydown="enviarComentario(event, this)"
           enterkeyhint="send">
           </div>
    </div>
  <script type="module">
    import { verificarSesion, iniciarSesion } from './Indicadores.js';

    document.addEventListener("DOMContentLoaded", async () => {
      const acceso = await verificarSesion();
      if (!acceso) {
        const ok = await iniciarSesion();
        if (!ok) return;
      }
    });
  </script>
</body>
</html>